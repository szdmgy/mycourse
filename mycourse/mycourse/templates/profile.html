<!DOCTYPE html>
<html>
<head>

    <title>编辑个人资料 - {{ profile.name }}</title>
     {% load static %}
    <link href="{% static 'css/studentCourseList.css' %}" rel="stylesheet"/>
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">


    <style>
        .form-group { margin-bottom: 15px; }
        label { display: inline-block; width: 80px; }
        input[readonly] {
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            padding: 5px;
        }
        .readonly-field {
            color: #666;
            padding: 5px;
        }
        .form-section { margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
    </style>
</head>
<body>
<div class="container">
    <!-- 欢迎语句和注销 -->
    <div class="jumbotron ">
        <h1>{{ name }}</h1>
        <a href="{% url 'logout' %}" id="logout"> 注销</a>
        {% if profile.type == 'T' %}
            <a href="{% url 'teacherCourseList' %}" id="courseList-a"> 返回课程目录 </a>
        {% else %}
            <a href="{% url 'studentCourseList' %}" id="courseList-a"> 返回课程目录 </a>
        {% endif %}

        <a href="{% url 'change_password' %}" id="courseList-a"> 修改登录密码 </a>
    </div>

    <div class="courseList-div well">
        <h1>编辑个人资料</h1>
        <form method="post" novalidate>
            {% csrf_token %}

            <!-- 用户信息（只读，关联Django User模型） -->
            <div class="form-section">
                <h3>基础信息</h3>
                <div class="form-group">
                    <label>{% if profile.type == 'T' %}工号：{% else %}学号：{% endif %}</label>
                    <span class="readonly-field">{{ profile.user.username }}</span>  <!-- 显示User的用户名 -->
                </div>
                <div class="form-group">
                    <label>姓名：</label>
                    {{ form.name }}
                    {{ form.name.errors }}
                </div>
            </div>

            <!-- 身份信息（只读） -->
            <div class="form-section">
                <h3>身份信息</h3>
                <div class="form-group">
                    <label>性别：</label>
                    <span class="readonly-field">{{ profile.get_gender_display }}</span>
                </div>
            </div>

            <!-- 可编辑信息 -->
            <div class="form-section">
                <h3>联系方式</h3>
                <div class="form-group">
                    <label for="{{ form.email.id_for_label }}">邮箱：</label>
                    {{ form.email }}
                    {{ form.email.errors }}
                </div>
                <div class="form-group">
                    <label for="{{ form.phone.id_for_label }}">手机号：</label>
                    {{ form.phone }}
                    {{ form.phone.errors }}
                </div>
            </div>
            {% if ok %}<div class="form-group  alert-success">  <h2 > 个人信息修改成功！</h2> </div>{% endif %}
            <button type="submit" style="margin-top: 20px; padding: 8px 20px;">保存修改</button>
        </form>

    </div>
</div>

</body>
</html>