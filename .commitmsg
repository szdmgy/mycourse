Simplify to single attachment, fix downloads, improve imports

- Refactor multi-slot attachments (1~3) to single file per assignment,
  removing maxFiles/slot fields from Task and slot from HomeworkFile
- Change HomeworkFile.homework from ForeignKey to OneToOneField
- Standardize filenames with safe_filename for server portability
- Store file paths relative to BASE_DIR for server portability
- Fix multi-student ZIP download FileNotFoundError via stream_and_cleanup
- Display standardized filename on student submission page
- Redesign history reuse modal: two-step class-then-tasks selection,
  duplicate detection, select-all/deselect-all controls
- Consolidate admin import page to course + teacher with preview-confirm
- Remove deprecated upload_files.html and old direct upload routes
- Update requirements.txt with core dependencies only
